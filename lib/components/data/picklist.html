<!DOCTYPE html>
<html>
  <body>
    <element name="x-picklist" constructor="PicklistComponent" extends="div">
      <template>
        <style scoped="scoped">
          .ui-corner-all {
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
          }
          
          .ui-picklist .ui-picklist-filter-container .ui-icon {
            position: absolute;
            top: 7px;
            right: 7px;
          }
          
          .ui-icon {
            background-image: url("../../../../../html_components/lib/images/ui-icons.png");
            display: block;
            text-indent: -99999px;
            overflow: hidden;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
          }
          
          .ui-picklist .ui-picklist-caption {
            text-align: center;
            padding: 4px 10px 4px 10px;
            border-bottom: 0px none;
          }
          
          .ui-corner-tr {
            -moz-border-radius-topright: 3px;
            -webkit-border-top-right-radius: 3px;
            border-top-right-radius: 3px;
          }
          
          .ui-corner-tl {
            -moz-border-radius-topleft: 3px;
            -webkit-border-top-left-radius: 3px;
            border-top-left-radius: 3px;
          }
          
          .ui-widget-header {
            border: 1px solid #a8a8a8;
            background: #c4c4c4 -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.8)), to(rgba(255,255,255,0)));
            color: #333;
            font-weight: bold;
            text-shadow: 0px 1px 0px rgba(255,255,255,0.7);
          }
          
          .ui-picklist .ui-picklist-list {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: auto;
            width: 200px;
          }
          
          .ui-corner-bottom {
            -moz-border-radius-bottomleft: 3px;
            -webkit-border-bottom-left-radius: 3px;
            border-bottom-left-radius: 3px;
            -moz-border-radius-bottomright: 3px;
            -webkit-border-bottom-right-radius: 3px;
            border-bottom-right-radius: 3px;
          }
          
          .ui-widget-content {
            border: 1px solid #a8a8a8;
            background: #ffffff;
            color: #4f4f4f;
          }
          
          .ui-picklist .ui-picklist-list li {
            margin: 1px;
            padding: 2px;
          }
          
          .ui-picklist .ui-picklist-item {
            cursor: pointer;
            border: 0px none;
            font-weight: inherit;
          }
          
          .ui-picklist-item > * {
            width: 100%;
          }
          
          .ui-state-default {
            border: 1px solid #a8a8a8;
            background: #c4c4c4 -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.8)), to(rgba(255,255,255,0)));
            font-weight: bold;
            color: #4f4f4f;
            text-shadow: 0px 1px 0px rgba(255,255,255,0.7);
            -moz-box-shadow: inset 0px 1px 0px #fff;
            -webkit-box-shadow: inset 0px 1px 0px #fff;
            box-shadow: inset 0px 1px 0px #fff;
          }
          
          .ui-state-hover {
            background: #85b2cb -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.6)), to(rgba(255,255,255,0)));
            color: #313131;
            -moz-box-shadow: 0 0 5px #85b2cb;
            -webkit-box-shadow: 0px 0px 8px #85b2cb;
            box-shadow: 0px 0px 8px #85b2cb;
          }
          
          .ui-state-highlight {
            background: #aaaaaa -webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,0.25)), to(rgba(0,0,0,0)));
            color: #ffffff;
            text-shadow: 1px 1px 1px #333333;
          }
          
          .ui-picklist .ui-button {
            display: block;
            margin-bottom: 0.3em;
          }
          
          .ui-button-icon-only {
            width: 2.4em;
          }
          
          .ui-button {
            position: relative;
            padding: 0;
            margin-left: .5em;
            margin-right: .5em;
            text-decoration: none !important;
            cursor: pointer;
            text-align: center;
            zoom: 1;
            overflow: visible;
          }
          
          .ui-button-icon-only .ui-icon {
            left: 50%;
            margin-left: -8px;
          }
          
          .ui-button-icon-only .ui-icon {
            position: absolute;
            top: 50%;
            margin-top: -8px;
          }
          
          .ui-icon-arrow-1-e {
            background-position: -32px -32px;
          }
          
          .ui-icon-arrowstop-1-e {
            background-position: -208px -32px;
          }
          
          .ui-icon-arrow-1-w {
            background-position: -96px -32px;
          }
          
          .ui-icon-arrowstop-1-w {
            background-position: -240px -32px;
          }
          
          .ui-button-icon-only .ui-button-text {
            padding: .4em;
            text-indent: -9999999px;
          }
          
          .ui-button .ui-button-text {
            display: block;
            line-height: 1.4;
          }
          
          .ui-helper-hidden {
            display: none;
          }
        </style>
        
        <div class="ui-helper-hidden">
          <content select="header"></content>
          <content select="template"></content>
        </div>
        
        <table class="ui-picklist">
          <tbody>
            <tr>
              <td>
                <template instantiate="if model.sourceHeader != null">
                  <div class="ui-picklist-caption ui-widget-header ui-corner-tl ui-corner-tr">{{model._safeSourceHeader}}</div>
                </template>
                <ul class="ui-widget-content ui-picklist-list ui-corner-bottom ui-picklist-source" style="height:{{model.height}}px">
                  <template iterate="item in model.items">
                    <li class="ui-picklist-item ui-corner-all {{item == model._selectedSourceItem ? 'x-picklist_ui-state-highlight' : ''}}" on-mouse-over="_onMouseOver(item)" on-mouse-out="_onMouseOut(item)" on-click="_onClicked(item, $event)">
                      {{_getItemAsHtml(item)}}
                    </li>
                  </template>
                </ul>
              </td>
              <td>
                <button class="ui-button ui-state-default ui-corner-all ui-button-icon-only" title="{{model.addLabel}}" on-mouse-over="_onMouseOverButton($event)" on-mouse-out="_onMouseOutButton($event)" on-click="_onAddClicked($event)">
                  <span class="ui-icon ui-icon-arrow-1-e"></span>
                  <span class="ui-button-text">ui-button</span>
                </button>
                <button class="ui-button ui-state-default ui-corner-all ui-button-icon-only" title="{{model.addAllLabel}}" on-mouse-over="_onMouseOverButton($event)" on-mouse-out="_onMouseOutButton($event)" on-click="_onAddAllClicked($event)">
                  <span class="ui-icon ui-icon-arrowstop-1-e"></span>
                  <span class="ui-button-text">ui-button</span>
                </button>
                <button class="ui-button ui-state-default ui-corner-all ui-button-icon-only" title="{{model.removeLabel}}" on-mouse-over="_onMouseOverButton($event)" on-mouse-out="_onMouseOutButton($event)" on-click="_onRemoveClicked($event)">
                  <span class="ui-icon ui-icon-arrow-1-w"></span>
                  <span class="ui-button-text">ui-button</span>
                </button>
                <button class="ui-button ui-state-default ui-corner-all ui-button-icon-only" title="{{model.removeAllLabel}}" on-mouse-over="_onMouseOverButton($event)" on-mouse-out="_onMouseOutButton($event)" on-click="_onRemoveAllClicked($event)">
                  <span class="ui-icon ui-icon-arrowstop-1-w"></span>
                  <span class="ui-button-text">ui-button</span>
                </button>
              </td>
              <td>
                <template instantiate="if model.targetHeader != null">
                  <div class="ui-picklist-caption ui-widget-header ui-corner-tl ui-corner-tr">{{model._safeTargetHeader}}</div>
                </template>
                <ul class="ui-widget-content ui-picklist-list ui-corner-bottom ui-picklist-target" style="height:{{model.height}}px">
                  <template iterate="item in model.pickedItems">
                    <li class="ui-picklist-item ui-corner-all {{item == model._selectedTargetItem ? 'x-picklist_ui-state-highlight' : ''}}" on-mouse-over="_onMouseOver(item)" on-mouse-out="_onMouseOut(item)" on-click="_onClicked(item, $event)">
                      {{_getItemAsHtml(item)}}
                    </li>
                  </template>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </template>
      <script type="application/dart" src="picklist.dart"></script>
    </element>
  </body>
</html>