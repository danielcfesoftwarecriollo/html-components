<!DOCTYPE html>
<html>
  <body>
    <element name="x-selectlistbox" constructor="SelectListboxComponent" extends="div">
      <template>
        <style scoped="scoped">
          .ui-selectlistbox {
            overflow: auto;
            padding: 2px;
            width: 125px;
            overflow: auto;
            padding: 2px;
          }
          
          .ui-inputfield {
            margin: 0;
            outline: medium none;
            padding: 4px;
            font-weight: normal;
            background: #ffffff;
            -moz-box-shadow: inset 0 2px 2px #8f8f8f;
            -webkit-box-shadow: inset 0 2px 2px #8f8f8f;
            box-shadow: inset 0 2px 2px #8f8f8f;
            color: #313131;
          }
          
          .ui-corner-all {
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
          }
          
          .ui-widget-content {
            border: 1px solid #a8a8a8;
          }
          
          .ui-selectlistbox table.ui-selectlistbox-list {
            border-collapse: collapse;
            width: 100%;
          }
          
          .ui-selectlistbox .ui-selectlistbox-list {
            list-style-type: none;
            margin: 0;
            padding: 0;
          }
          
          .ui-selectlistbox .ui-selectlistbox-item {
            margin: 2px;
            border: 0 none;
            cursor: pointer;
            font-weight: normal;
          }
          
          .ui-state-hover {
            background: #85b2cb -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.6)), to(rgba(255,255,255,0)));
            color: #313131;
            -moz-box-shadow: 0 0 5px #85b2cb;
            -webkit-box-shadow: 0px 0px 8px #85b2cb;
            box-shadow: 0px 0px 8px #85b2cb;
          }
          
          .ui-state-highlight {
            background: #aaaaaa -webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,0.25)), to(rgba(0,0,0,0)));
            color: #ffffff;
            text-shadow: 1px 1px 1px #333333;
          }
          
          .ui-helper-hidden {
            display: none;
          }
        </style>
        
        <div class="ui-helper-hidden">
          <content select="template"></content>
        </div>
        
        <div class="ui-selectlistbox ui-inputfield ui-widget-content ui-corner-all" style="width:{{model.width}}px;height:{{model.height}}px">
          <table class="ui-selectlistbox-list">
            <tbody template="template" iterate="item in model.items">
              <tr class="ui-selectlistbox-item ui-corner-all {{model.selectedItems.contains(item) ? 'x-selectlistbox_ui-state-highlight' : ''}}" on-mouse-over="_onMouseOver(item)" on-mouse-out="_onMouseOut(item)" on-click="_onClicked(item, $event)">
                <td>
                  {{_getItemAsHtml(item)}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </template>
      <script type="application/dart" src="selectlistbox.dart"></script>
    </element>
  </body>
</html>